<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Vue</title>
    </head>

    <!--
        https://v3.cn.vuejs.org/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7
    -->

    <script src="https://unpkg.com/vue@next"></script>

    <body>
        <div id="app">
            <div id="computed-basics">
                <p>出版了以下书籍：</p>
                <span>{{ author.books.length > 0 ? 'yes' : 'no' }}</span>

                <ul v-if="author.books.length > 0">
                    <li v-for="book of author.books">{{ book }}</li>
                </ul>
            </div>

            <div id="computed-basics2">
                <p>出版了以下书籍：</p>
                <span>{{ publishedBooksMessage }}</span>
            </div>

        </div>
    </body>

</html>

<!--
    计算属性

    如：#computed-basics 示例。
    如果将业务逻辑写在html标签(模板)中，虽然可以，但是你必须得看html+js代码才能理解具体业务，如果模板中包含多次计算，那就会变得很糟。

    可以使用'计算属性'方式，将任何包含响应式数据的逻辑从模板抽离。如 publishedBooksMessage示例。
-->
<script type="module">
    Vue.createApp({
        data() {
            return {
                author: {
                    name: 'John Doe',
                    books: [
                        'Vue 2 - Advanced Guide',
                        'Vue 3 - Basic Guide',
                        'Vue 4 - The Mystery'
                    ]
                },
            }
        },
        computed: {
            publishedBooksMessage() {
                return this.author.books.length > 0 ? 'yes' : 'no';
            },
        }
    }).mount('#app');
</script>
